#An server configuration for production

import multiprocessing
import os

name = "gunicorn"

if not os.path.exists("./logs/"):
    os.mkdir("./logs")
accesslog = os.path.abspath("./logs/access.log")
errorlog = os.path.abspath("./logs/error.log")

bind = "0.0.0.0:5000"

worker_class = "uvicorn.workers.UvicornWorker"
workers = multiprocessing.cpu_count() * 2 + 1
worker_connections = 1024
backlog = 2048
max_requests = 5120
timeout = 120
keepalive = 2
reuse_port=True
#daemon=True

debug = os.environ.get("DEBUG", "false") == "true"