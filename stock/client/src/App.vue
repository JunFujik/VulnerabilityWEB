<template>
  <div id="app">
    <div class="container is-fluid">
      <component :is="Header"></component>
      <router-view />
      <component :is="Footer"></component>
    </div>
  </div>
</template>

<script setup lang="ts">
import { defineAsyncComponent } from 'vue'
import { useShopStore } from './store/shop';
import { useUserStore } from './store/user'

const Header = defineAsyncComponent(() => import('./components/Header.vue'))
const Footer = defineAsyncComponent(() => import('./components/Footer.vue'))
const userStore = useUserStore()
const shopStore = useShopStore()
const init = async () => {
  await userStore.init();
  await shopStore.initShop();
  await shopStore.initItems();
}
init();
</script>