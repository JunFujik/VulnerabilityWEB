from uuid import UUID
from pydantic import BaseModel, EmailStr, SecretStr, Field
from typing import Any, NewType
from enum import Enum

from pydantic_geojson import PointModel

class User_signup(BaseModel):
    name:str=Field(min_length=1, max_length=1024, description="User name")
    email:EmailStr=Field(description="User email address")
    password:SecretStr=Field(min_length=6, max_length=1024, description="User password")
    is_store:bool

class User_signin(BaseModel):
    email:EmailStr=Field(description="User email address")
    password:SecretStr=Field(min_length=6, max_length=1024, description="User password")

class User_signout(BaseModel):
    id:UUID
    token:UUID

class Token(BaseModel):
    id:UUID
    token:UUID

class SSO_Services(Enum):
    GOOGLE="google"
SSO_Services=NewType("SSO_Services", SSO_Services)

class UserEdit(BaseModel):
    token:UUID
    name:str=Field(min_length=1, max_length=1024, description="User name", default=None)
    email:EmailStr=Field(description="User email address", default=None)
    oldpassword:SecretStr=Field(min_length=6, max_length=1024, description="User password", default=None)
    newpassword:SecretStr=Field(min_length=6, max_length=1024, description="User password", default=None)
    is_store:bool=None

class CreateShop(BaseModel):
    name:str=Field(min_length=1, max_length=1024)
    description:str=Field(default="", min_length=0, max_length=1024)
    address:str=Field(min_length=1, max_length=1024)
    coordinate:PointModel
    user_id:UUID
    token:UUID

class EditShop(BaseModel):
    name:str=Field(min_length=1, max_length=1024)
    description:str=Field(default="", min_length=0, max_length=1024)
    address:str=Field(min_length=1, max_length=1024)
    coordinate:PointModel
    user_id:UUID
    token:UUID

class DeleteShop(BaseModel):
    user_id:UUID
    token:UUID

class Stock(BaseModel):
    stocks:int=0
    description:str=""
    lng:float
    lat:float

class CreateItem(BaseModel):
    name:str=Field(min_length=1, max_length=1024)
    description:str=Field(default="", min_length=0, max_length=1024)
    stock:Stock
    shop_id:UUID
    user_id:UUID
    token:UUID

class EditItem(BaseModel):
    name:str=Field(min_length=1, max_length=1024)
    description:str=Field(default="", min_length=0, max_length=1024)
    stock:Stock
    user_id:UUID
    token:UUID

class DeleteItem(BaseModel):
    user_id:UUID
    token:UUID

class DeleteUser(BaseModel):
    token:UUID
    password:SecretStr=Field(min_length=6, max_length=1024, description="User password", default=None)