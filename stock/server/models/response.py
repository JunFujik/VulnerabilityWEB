from typing import List, Union
from uuid import UUID
from pydantic import BaseModel, EmailStr
from server.models.request import Stock
from pydantic_geojson import PointModel, FeatureModel

class User(BaseModel):
    id: UUID
    name:str
    email:Union[EmailStr, None]=None
    is_store:bool
    token:Union[UUID, None]=None

    class Config:
        orm_mode = True

class User_withshops(BaseModel):
    id: UUID
    name:str
    email:Union[EmailStr, None]=None
    is_store:bool
    token:Union[UUID, None]=None
    shops:List[UUID]=[]

    class Config:
        orm_mode = True

class Shop(BaseModel):
    id: UUID
    name:str
    description:str
    address:str
    coordinate:PointModel

    class Config:
        orm_mode = True

class Shop_withitems(BaseModel):
    id: UUID
    name:str
    description:str
    address:str
    coordinate:PointModel
    items:List[UUID]=[]

    class Config:
        orm_mode = True

class Item(BaseModel):
    id: UUID
    name:str
    description:str
    stock:Stock
    shop_id:UUID

    class Config:
        orm_mode = True

class PointModelWithShop(FeatureModel):
    properties: Shop_withitems